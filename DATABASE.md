## Database

Create collections and interact with them like any database management system. Your collections will be saved in your database directory previously generated by the generator.

### Inserting, adding and pushing elements

```javascript
client.db.insert('collection', elements);
```

Your _elements_ can be an object or an array of objects. Collection name will be the file created in your database directory and you will have to use the same collection name to interact with it.

**Examples:**

```javascript
client.db.insert('monsters', [
    {name: "sphinx", mythology: "greek", eyes: 2, sex: "f", hobbies: ["riddles","sitting","being a wonder"]},
    {name: "hydra", mythology: "greek", eyes: 18, sex: "m", hobbies: ["coiling","terrorizing","growing"]},
    {name: "huldra", mythology: "norse", eyes: 2, sex: "f", hobbies: ["luring","terrorizing"]},
    {name: "cyclops", mythology: "greek", eyes: 1, sex: "m", hobbies: ["staring","terrorizing"]},
    {name: "fenrir", mythology: "norse", eyes: 2, sex: "m", hobbies: ["growing","god-killing"]},
    {name: "medusa",  mythology: "greek", eyes: 2, sex: "f", hobbies: ["coiling","staring"]}
]);
```

```javascript
client.db.insert('monsters', {name: "HamoIzm", mythology: "amazigh", eyes: 2, sex: "m", hobbies: ["riddles","hunting"]});
```

---

### Retrieving elements

```javascript
client.db.where('collection', query);
```

Search with an object or with operators:

**Examples:**

```javascript
client.db.where('monsters', {name: "HamoIzm"});
=> [{name: "HamoIzm", mythology: "amazigh", eyes: 2, sex: "m", hobbies: ["riddles","hunting"], cid:6}]
```


```javascript
client.db.where('monsters', "@eyes >= 2");
=> [
    {name: "sphinx", mythology: "greek", eyes: 2, sex: "f", hobbies: ["riddles","sitting","being a wonder"], cid:0},
    {name: "hydra", mythology: "greek", eyes: 18, sex: "m", hobbies: ["coiling","terrorizing","growing"], cid:1},
    {name: "huldra", mythology: "norse", eyes: 2, sex: "f", hobbies: ["luring","terrorizing"], cid:2},
    {name: "fenrir", mythology: "norse", eyes: 2, sex: "m", hobbies: ["growing","god-killing"], cid:4},
    {name: "medusa",  mythology: "greek", eyes: 2, sex: "f", hobbies: ["coiling","staring"], cid:5},
    {name: "HamoIzm", mythology: "amazigh", eyes: 2, sex: "m", hobbies: ["riddles","hunting"], cid:6}
]
```


```javascript
client.db.where('monsters', "(@eyes == 2 && @mythology == 'greek') || (@mythology == 'amazing')");
=> [
    {name: "sphinx", mythology: "greek", eyes: 2, sex: "f", hobbies: ["riddles","sitting","being a wonder"], cid:0},
    {name: "medusa",  mythology: "greek", eyes: 2, sex: "f", hobbies: ["coiling","staring"], cid:5},
    {name: "HamoIzm", mythology: "amazing", eyes: 2, sex: "m", hobbies: ["riddles","hunting"], cid:6}
]
```

---

### Retrieving by cid

```javascript
client.db.get('monsters', cid);
```

The _cid_ is not an index in array, _cid_ is related with addition.

**Example:**

```javascript
client.db.get('monsters', 3);
=> {name: "cyclops", mythology: "greek", eyes: 1, sex: "m", hobbies: ["staring","terrorizing"], cid:3}
```

---

### Listing elements

```javascript
client.db.list('collection');
```

**Example:**

```javascript
client.db.list('monsters');
```

---

### Updating an element

```javascript
client.db.update('collection', cid, object);
```

Will add un-existed key and replace existed. (_cid_ can't be changed)

**Example:**

```javascript
client.db.update('monsters', 5, {eyes: 3, food:"waloo"});
client.db.get(5); 
=> {name: "medusa",  mythology: "greek", eyes: 3, food:"waloo", sex: "f", hobbies: ["coiling","staring"], cid:5}
```

---

### Replacing an element

```javascript
client.db.replace('collection', cid, object);
```

Replaces an element with the same _cid_.

**Example:**

```javascript
client.db.replace('monsters', 6, {car: "Ferrari"});
client.db.get(6);
=> {car: "Ferrari", cid:6}
```

---

### Removing an element

```javascript
client.db.remove('collection', cid);
```

Deletes an item by _cid_.

**Example:**

```javascript
client.db.remove('monsters', 1);
```
